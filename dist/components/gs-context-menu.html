<dom-module id="gs-context-menu">
  <template>
    <style>
      :host {
        position: absolute;
      }

      #contextBox {
        opacity: 1;
        transition: opacity 1s linear;
        background-color: white;
        display: table;
        box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
      }

      .item-link {
        margin: 0;
        padding: 0;
        padding: 10px;
        border-radius: 2px;
        cursor: pointer;
      }

      .item-link:hover {
        background-color: #F82B5B;
        transition: background-color 1000ms linear;
      }

      .listContainer {
        margin: 0px;
        padding: 0;
        list-style-type: none;
      }

      /*# sourceMappingURL=style.css.map */

    </style>

    <template is="dom-if" if="{{toggleContextMenu}}">
      <div id="contextBox">
        <ul class="listContainer">
            <template is="dom-repeat" items={{_options}} as="option">
                <li on-tap="make_action" item="{{option}}" class="item-link">{{option.name}}</li>
            </template>
        </ul>

      </div>
    </template>
  </template>
  <script>
    Polymer({
      is: 'gs-context-menu',
      properties: {
        _options: {
          type: [],
          value: []
        },
        toggleContextMenu: {
          type: Boolean,
          value: false
        }
      },
      listeners: {
        'mousedown': 'avoidPropagation'
      },
      avoidPropagation: function(browserEvent) {
        browserEvent.preventDefault();
        return browserEvent.stopPropagation();
      },
      addOptions: function(options) {
        return this._options = options;
      },
      showMenu: function(offSetLeft, offSetTop) {
        this.toggleContextMenu = true;
        this.style.left = offSetLeft + "px";
        return this.style.top = offSetTop + "px";
      },
      hideMenu: function() {
        return this.toggleContextMenu = false;
      },
      make_action: function(nosequemierdaevent) {
        return this.fire('processOption', {
          file: nosequemierdaevent.target.item
        });
      }
    });

  </script>
</dom-module>